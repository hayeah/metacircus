<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>
     
       How Google Ad Ranking Maximizes Profit - Howard Yeh | Metacircus
     
   </title>
   <meta name="author" content="Howard Yeh" />
   
   <link href="http://feeds2.feedburner.com/metacircus" rel="alternate" title="Metacircus" type="application/atom+xml" />

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />

   <script src="http://code.jquery.com/jquery-1.7.min.js" type="text/javascript"></script>
   <script src="/js/main.js" type="text/javascript"></script>
</head>
<body>

<div class="site">
  <div class="title">
    <h1><a href="/">Metacircus <span class="name"> by Howard Yeh </span></a></h1>
    <h2 class="meta">Words Are But Shattered Mirror of Thoughts</h2>
  </div>

  <div class="main">
    <div id="post">
  <h1 class='post-title'>How Google Ad Ranking Maximizes Profit</h1>
<p>Greed, as they say on Wall Street, is good. And that, for Google, is in fact
<em>mathematically true</em>.</p>

<p>I was reading <a href="http://certifiedknowledge.org/blog/">Brad Geddes</a>&rsquo;s book <a href="http://www.amazon.com/gp/product/0470500239/ref=as_li_ss_tl?ie=UTF8&amp;tag=metacircus-20&amp;linkCode=as2&amp;camp=217145&amp;creative=399369&amp;creativeASIN=0470500239">Advanced Google AdWords</a>,
to learn how to use AdWords. Naively (like me), you might think at first
that it would make sense to put the highest bidder first. But no. Google
ranks ads by CTR (click-through rate) * max CPC (cost per cick).</p>

<p>Why? <em>Because doing that maximizes profit.</em></p>

<p>It makes sense if you think about it. If somebody is paying $100 per click for
an ad, but doesn&rsquo;t get any click, then Google makes nothing. But it wasn&rsquo;t clear
to me whether this ranking strategy is indeed <em>THE</em> mathematically optimal
strategy.</p>

<p>I am a nerd. So I couldn&rsquo;t just let that slide by.</p>

<p>I had to prove it.</p>

<h1 id="sanity-check">Sanity Check</h1>

<p>So we want to prove that ranking by CTR * CPC maximizes profit. Before setting
out to prove it, I did a quick sanity check so I wouldn&rsquo;t go on a wild goose
chase. Suppose there are two ads.</p>

<ul>
  <li>Zoloft. CTR = 50%. CPC = $10</li>
  <li>Prozac. CTR = 100%. CPC = $5</li>
</ul>

<p>If there are 100 searches for anti-depressants, 50 would click on the Zoloft ad,
and Google makes $500. Given the same 100 searches, 100 would click on the
Prozac ad, and Google makes $500.</p>

<p>It&rsquo;s a toss-up. If you randomly distribute traffic between these two ads, Google
makes the same amount. There is no reason for Google to prefer one over the
other. Playing around with the CTR and CPC of the ads by adjusting them up and
down, it&rsquo;s clear that the formula works.</p>

<h1 id="the-proof">The Proof</h1>

<p>Given that there are n ads ranked in order of CTR_n * CPC_n. Assume as given
that the impressions received by these ads, N_n, is strictly decreasing (ad 1
is seen more than ad 2, and ad 2 is seen more than ad 3, etc&hellip;).</p>

<p>If this is not the optimal strategy, then there is an alternate ranking that
would yield higher earning. Earning from some ad of rank n is</p>

<p>E_n = N_n * CTR_n * CPC_n</p>

<p>Let&rsquo;s rewrite CTR_n * CPC_n as P_n. So earning for the n-th ad would be</p>

<p>E_n = N_n * P_n</p>

<p>For the said hypothesized alternate ranking, there should exist a pair of P_a
and P_b such that a outranks b, but if we switch them, the total earning would
increase. Or as an equation, there should be P_a, P_b (for a &gt; b) such that,</p>

<p>(1) (N_a * P_b + N_b * P_a) &gt; (N_a * P_a + N_b * P_b)</p>

<p>We want to show that this is impossible. By rearranging the terms,</p>

<p>(2) (N_a * P_b - N_b * P_b) &gt; (N_a * P_a -  N_b * P_a)</p>

<p>Then factoring,</p>

<p>(3) P_b(N_a - N_b) &gt; P_a(N_a - N_b)</p>

<p>Canceling, we get,</p>

<p>(4) P_b &gt; P_a</p>

<p>Which violates the given that P_a &gt; P_b for any a &gt; b. So (1) cannot be true for
any pair of a,b. QED.</p>

<h1 id="when-i-was-10-i-thought-girls-are-gross">When I Was 10, I Thought Girls Are Gross</h1>

<p>I thought marketing is gross. I didn&rsquo;t think that I&rsquo;d enjoy learning about
marketing. Why should I force somebody to buy my crap? Why should I become an
<a href="http://godaddy.com">expert pain in the ass</a>?</p>

<p>Marketing, like everything else, can be a force of good or evil. You can trick
people into buying shit that doesn&rsquo;t work. Or you can build something awesome,
and tell people about it.</p>

<p>Google AdWords incentivize people to create relevant ads:</p>

<blockquote>
  <p>By incorporating a combination of both bid prices and how many clicks those ads received, Google managed to maximize how much they made on any single search results page. This simple change also created an environment where a small company with a more compelling offer could have its ad displayed higher in a [search result page] than a large national company who did not take the time to create relevant ads. Price no longer trumped relevancy. Having the most money did not ensure the most clicks or visibility. Advertisers had to choose keywords that were more relevant to their products and create ads to match.
Brad Geddes - <em>Advanced Google AdWords</em></p>
</blockquote>

<p>I think that&rsquo;s pretty cool.</p>

<p><a href="http://news.ycombinator.com/item?id=3216234">On Hacker News</a></p>

  <div id="sharebox">
    <a href="http://twitter.com/share" class="twitter-share-button" data-text="How Google Ad Ranking Maximizes Profit" data-count="vertical" data-via="hayeah">Tweet</a>
  </div>

  <p class="followme">
    If you like my writing you should follow me on <a href="http://twitter.com/hayeah">Twitter</a>.
  </p>
</div>


<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>

<div id="comments">
  <a href="http://www.metacircus.com/startup/2011/11/08/how-google-ad-ranking-maximizes-profit.html#disqus_thread">Comments</a>
  <div id="disqus_thread"></div>
  <script type="text/javascript" src="http://disqus.com/forums/metacircus/embed.js"></script>
  <noscript><a href="http://metacircus.disqus.com/?url=ref">View the discussion thread.</a></noscript>
</div>

  </div>

  <div id="topbar">
    <div class="nav">
      <a href="/">home</a>
      <a href="/about_howard_yeh.html">about</a>
    </div>
  </div>

  <div class="sidebar">
    
      <div id="about" class="section">
        <h2>About Me</h2>
        <img title="Howard Yeh's Likeness" alt="Howard Yeh's Likeness" src="/images/howard-yeh.jpg"></img>
        <p><b>Howard Yeh</b>. Thinker. Traveller. Entrepreneur. Hacker. Violinist. </p>
        <p>
          Howard is a Rails freelancer. He is now travelling the world, spending
          less money than staying at home. After 6 months of travel, he saved more
          money in the bank than when he started. Everything he owns fits in a 25L
          backpack.
          <a href="/about_howard_yeh.html">More</a>
        </p>
        <p class="follow">
          <em>
            You should <a href="http://twitter.com/hayeah"><b>follow me</b></a>
            around the world.
          </em>
        </p>
      </div>
    

    <div id="subscribe" class="section links">
      <h3><img src="/images/feed-icon16x16.png"/>Subscribe</h3>
      <a href="http://feeds2.feedburner.com/metacircus">Via RSS feed</a>
      <a href="http://feedburner.google.com/fb/a/mailverify?uri=metacircus&amp;loc=en_US">Get updates by email</a>
    </div>

    <div id="contact" class="section links">
      <h3>Contact Me</h3>
      <a href="mailto:howard@metacircus.com">howard@metacircus.com</a>
      <a href="http://twitter.com/hayeah">Follow me on <img src="/images/twitter.png"/> Twitter</a>
    </div>
    
  </div>
  <div class="clear"></div>
  <div class="footer">
    <div class="nav">
      <a href="/">home</a>
      <a href="/about_howard_yeh.html">about</a>
    </div>
    <div class="contact">
      <p>
        <b>Howard Yeh</b>
        <br/>
        <a href="mailto:howard@metacircus.com">howard@metacircus.com</a>
        <br/>
        <a href="http://twitter.com/hayeah"><b>@hayeah</b></a>
      </p>
    </div>
  </div>
</div>

<!-- GetClicky -->
<script type="text/javascript">
var clicky_site_ids = clicky_site_ids || [];
clicky_site_ids.push(66479153);
(function() {
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//static.getclicky.com/js';
  ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
})();
</script>

<!-- Google Analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7576362-1");
pageTracker._trackPageview();
} catch(err) {}</script>

<!-- start Mixpanel -->
<script type="text/javascript">var mpq=[];mpq.push(["init","f19e328b6691dea4d28df9fc3f01ad9d"]);(function(){var b,a,e,d,c;b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=(document.location.protocol==="https:"?"https:":"http:")+"//api.mixpanel.com/site_media/js/api/mixpanel.js";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);e=function(f){return function(){mpq.push([f].concat(Array.prototype.slice.call(arguments,0)))}};d=["init","track","track_links","track_forms","register","register_once","identify","name_tag","set_config"];for(c=0;c<d.length;c++){mpq[d[c]]=e(d[c])}})();
</script>

<!-- Disqus -->
<script type="text/javascript">
//<![CDATA[
(function() {
		var links = document.getElementsByTagName('a');
		var query = '?';
		for(var i = 0; i < links.length; i++) {
			if(links[i].href.indexOf('#disqus_thread') >= 0) {
				query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
			}
		}
		document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/metacircus/get_num_replies.js' + query + '"></' + 'script>');
	})();
//]]>
</script>
</body>
</html>
